import{aI as sn,aJ as an,aK as S,aL as F,a6 as B,aM as un,aN as l,a8 as on,aO as z,aP as E,aQ as cn,aR as y,aS as yn,aT as rn,aU as en}from"./index-CN1fDS-C.js";function fn(s){return s.innerRadius}function ln(s){return s.outerRadius}function gn(s){return s.startAngle}function pn(s){return s.endAngle}function xn(s){return s&&s.padAngle}function mn(s,d,q,I,v,k,D,a){var C=q-s,i=I-d,n=D-v,p=a-k,u=p*C-n*i;if(!(u*u<l))return u=(n*(d-k)-p*(s-v))/u,[s+u*C,d+u*i]}function Q(s,d,q,I,v,k,D){var a=s-q,C=d-I,i=(D?k:-k)/z(a*a+C*C),n=i*C,p=-i*a,u=s+n,r=d+p,e=q+n,f=I+p,G=(u+e)/2,o=(r+f)/2,x=e-u,g=f-r,T=x*x+g*g,A=v-k,O=u*f-e*r,L=(g<0?-1:1)*z(yn(0,A*A*T-O*O)),P=(O*g-x*L)/T,_=(-O*x-g*L)/T,R=(O*g+x*L)/T,m=(-O*x+g*L)/T,h=P-G,t=_-o,c=R-G,H=m-o;return h*h+t*t>c*c+H*H&&(P=R,_=m),{cx:P,cy:_,x01:-n,y01:-p,x11:P*(v/A-1),y11:_*(v/A-1)}}function dn(){var s=fn,d=ln,q=B(0),I=null,v=gn,k=pn,D=xn,a=null,C=sn(i);function i(){var n,p,u=+s.apply(this,arguments),r=+d.apply(this,arguments),e=v.apply(this,arguments)-un,f=k.apply(this,arguments)-un,G=cn(f-e),o=f>e;if(a||(a=n=C()),r<u&&(p=r,r=u,u=p),!(r>l))a.moveTo(0,0);else if(G>on-l)a.moveTo(r*S(e),r*F(e)),a.arc(0,0,r,e,f,!o),u>l&&(a.moveTo(u*S(f),u*F(f)),a.arc(0,0,u,f,e,o));else{var x=e,g=f,T=e,A=f,O=G,L=G,P=D.apply(this,arguments)/2,_=P>l&&(I?+I.apply(this,arguments):z(u*u+r*r)),R=E(cn(r-u)/2,+q.apply(this,arguments)),m=R,h=R,t,c;if(_>l){var H=rn(_/u*F(P)),X=rn(_/r*F(P));(O-=H*2)>l?(H*=o?1:-1,T+=H,A-=H):(O=0,T=A=(e+f)/2),(L-=X*2)>l?(X*=o?1:-1,x+=X,g-=X):(L=0,x=g=(e+f)/2)}var Z=r*S(x),j=r*F(x),Y=u*S(A),b=u*F(A);if(R>l){var M=r*S(g),N=r*F(g),U=u*S(T),$=u*F(T),W;if(G<an)if(W=mn(Z,j,U,$,M,N,Y,b)){var J=Z-W[0],K=j-W[1],V=M-W[0],w=N-W[1],nn=1/F(en((J*V+K*w)/(z(J*J+K*K)*z(V*V+w*w)))/2),tn=z(W[0]*W[0]+W[1]*W[1]);m=E(R,(u-tn)/(nn-1)),h=E(R,(r-tn)/(nn+1))}else m=h=0}L>l?h>l?(t=Q(U,$,Z,j,r,h,o),c=Q(M,N,Y,b,r,h,o),a.moveTo(t.cx+t.x01,t.cy+t.y01),h<R?a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,r,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),!o),a.arc(c.cx,c.cy,h,y(c.y11,c.x11),y(c.y01,c.x01),!o))):(a.moveTo(Z,j),a.arc(0,0,r,x,g,!o)):a.moveTo(Z,j),!(u>l)||!(O>l)?a.lineTo(Y,b):m>l?(t=Q(Y,b,M,N,u,-m,o),c=Q(Z,j,U,$,u,-m,o),a.lineTo(t.cx+t.x01,t.cy+t.y01),m<R?a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,u,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),o),a.arc(c.cx,c.cy,m,y(c.y11,c.x11),y(c.y01,c.x01),!o))):a.arc(0,0,u,A,T,o)}if(a.closePath(),n)return a=null,n+""||null}return i.centroid=function(){var n=(+s.apply(this,arguments)+ +d.apply(this,arguments))/2,p=(+v.apply(this,arguments)+ +k.apply(this,arguments))/2-an/2;return[S(p)*n,F(p)*n]},i.innerRadius=function(n){return arguments.length?(s=typeof n=="function"?n:B(+n),i):s},i.outerRadius=function(n){return arguments.length?(d=typeof n=="function"?n:B(+n),i):d},i.cornerRadius=function(n){return arguments.length?(q=typeof n=="function"?n:B(+n),i):q},i.padRadius=function(n){return arguments.length?(I=n==null?null:typeof n=="function"?n:B(+n),i):I},i.startAngle=function(n){return arguments.length?(v=typeof n=="function"?n:B(+n),i):v},i.endAngle=function(n){return arguments.length?(k=typeof n=="function"?n:B(+n),i):k},i.padAngle=function(n){return arguments.length?(D=typeof n=="function"?n:B(+n),i):D},i.context=function(n){return arguments.length?(a=n??null,i):a},i}export{dn as h};
